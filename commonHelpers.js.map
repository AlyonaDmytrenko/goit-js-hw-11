{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Створення інстансу SimpleLightbox\nconst lightbox = new SimpleLightbox();\n\n// Функція для відображення повідомлення про помилку\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n\n// Функція для відображення повідомлення про незнайдені зображення\nfunction showNoImagesFoundMessage() {\n  showError(\n    'Sorry, there are no images matching your search query. Please try again!'\n  );\n}\n\n// Функція для відображення індикатора завантаження\nfunction showLoader() {\n  cssLoader.show(); // Показати індикатор завантаження\n}\n\n// Функція для приховування індикатора завантаження\nfunction hideLoader() {\n  cssLoader.hide(); // Приховати індикатор завантаження\n}\n\n// Функція для очищення галереї\nfunction clearGallery() {\n  // Очистити вміст галереї\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\n// Функція для отримання зображень з бекенду та відображення їх у галереї\nfunction fetchAndDisplayImages(searchTerm) {\n  // Перевірка на наявність порожнього рядка\n  if (!searchTerm.trim()) {\n    showError('Please enter a search term.'); // Показати помилку, якщо рядок порожній\n    return;\n  }\n\n  // Очищення галереї перед новим пошуком\n  clearGallery();\n\n  // Показати індикатор завантаження\n  showLoader();\n\n  // Встановлення параметрів рядка запиту\n  const params = new URLSearchParams({\n    key: 'u_qzm76aazta',\n    q: searchTerm,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // Виконання HTTP-запиту до бекенду (використовуйте ваш URL)\n  fetch(`https://api.pixabay.com/?${params.toString()}`)\n    .then(response => {\n      // Приховати індикатор завантаження після отримання відповіді\n      hideLoader();\n\n      // Перевірка статусу відповіді\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      // Перевірка наявності зображень у відповіді\n      if (data.hits.length === 0) {\n        showNoImagesFoundMessage(); // Відображення повідомлення про незнайдені зображення\n        return;\n      }\n\n      // Додавання зображень у галерею\n      const gallery = document.querySelector('.gallery');\n      data.hits.forEach(image => {\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        img.dataset.source = image.largeImageURL;\n        gallery.appendChild(img);\n      });\n\n      // Оновлення галереї SimpleLightbox\n      lightbox.refresh();\n    })\n    .catch(error => {\n      // Приховати індикатор завантаження у разі помилки\n      hideLoader();\n      showError('An error occurred while fetching images.'); // Показати помилку\n      console.error('Error fetching images:', error);\n    });\n}\n\n// Додати обробник подій для форми пошуку\nconst form = document.querySelector('form');\nform.addEventListener('submit', function (event) {\n  event.preventDefault(); // Заборонити стандартну поведінку форми\n\n  const searchTerm = document.querySelector('#search').value;\n  fetchAndDisplayImages(searchTerm); // Викликати функцію для отримання та відображення зображень\n});\n"],"names":["lightbox","SimpleLightbox","showError","message","iziToast","showNoImagesFoundMessage","showLoader","hideLoader","clearGallery","gallery","fetchAndDisplayImages","searchTerm","params","response","data","image","img","error","form","event"],"mappings":"6vBAUA,MAAMA,EAAW,IAAIC,EAGrB,SAASC,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAGA,SAASE,GAA2B,CAClCH,EACE,0EACJ,CACA,CAGA,SAASI,GAAa,CACpB,UAAU,KAAI,CAChB,CAGA,SAASC,GAAa,CACpB,UAAU,KAAI,CAChB,CAGA,SAASC,GAAe,CAEtB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAGA,SAASC,EAAsBC,EAAY,CAEzC,GAAI,CAACA,EAAW,OAAQ,CACtBT,EAAU,6BAA6B,EACvC,MACD,CAGDM,IAGAF,IAGA,MAAMM,EAAS,IAAI,gBAAgB,CACjC,IAAK,eACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGD,MAAM,4BAA4BC,EAAO,SAAQ,CAAE,EAAE,EAClD,KAAKC,GAAY,CAKhB,GAHAN,IAGI,CAACM,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAEZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BT,IACA,MACD,CAGD,MAAMI,EAAU,SAAS,cAAc,UAAU,EACjDK,EAAK,KAAK,QAAQC,GAAS,CACzB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMD,EAAM,aAChBC,EAAI,IAAMD,EAAM,KAChBC,EAAI,QAAQ,OAASD,EAAM,cAC3BN,EAAQ,YAAYO,CAAG,CAC/B,CAAO,EAGDhB,EAAS,QAAO,CACtB,CAAK,EACA,MAAMiB,GAAS,CAEdV,IACAL,EAAU,0CAA0C,EACpD,QAAQ,MAAM,yBAA0Be,CAAK,CACnD,CAAK,CACL,CAGA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,iBAAiB,SAAU,SAAUC,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMR,EAAa,SAAS,cAAc,SAAS,EAAE,MACrDD,EAAsBC,CAAU,CAClC,CAAC"}